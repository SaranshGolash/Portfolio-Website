<section id="projects" class="section" style="background-color: #111;">
  <div class="container">
    <h2 style="text-align: center;" data-aos="fade-up">My <span class="gradient-text">Projects</span></h2>
    <div class="card-grid">
      
      <% if (projects.length === 0) { %>
        <p>No projects to display yet.</p>
      <% } else { %>
        <% projects.forEach((project, index) => { %>
          <div class="card" data-aos="fade-up" data-aos-delay="<%= (index % 3) * 100 %>">
            
            <div class="project-media">
              <% if (project.video_url) { %>
                <div style="position: relative; padding-bottom: 56.25%; height: 0; overflow: hidden; margin-bottom: 1rem;">
                  <iframe 
                    style="position: absolute; top: 0; left: 0; width: 100%; height: 100%;"
                    src="<%= project.video_url %>" 
                    title="<%= project.title %>" 
                    frameborder="0" 
                    allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" 
                    referrerpolicy="strict-origin-when-cross-origin" 
                    allowfullscreen>
                  </iframe>
                  </div>
              <% } else if (project.thumbnail_url) { %>
                <img 
                  src="<%= project.thumbnail_url %>" 
                  alt="<%= project.title %>" 
                  style="width: 100%; height: auto; border-radius: 5px; margin-bottom: 1rem;"
                >
              <% } %>
            </div>
            
            <h3><%= project.title %></h3>
            <p><%= project.description %></p>
            <a 
              href="<%= project.repo_link %>" 
              target="_blank" 
              rel="noopener noreferrer" 
              class="btn" 
              style="margin-top: 1rem;"
            >
              View on GitHub
            </a>
          </div>
        <% }) %>
      <% } %>
      
    </div>
  </div>
</section>